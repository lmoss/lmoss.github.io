
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Getting started with 1# &#8212; Invitation to Computabitlity</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"N": "\\mathbb{N}", "set": ["\\left\\{#1\\right\\}", 1], "one": ["\\mathtt{1}"], "hash": ["\\mathtt{\\#}"], "diag": ["\\mathtt{diag}"], "self": ["\\mathtt{self}"], "writeprog": ["\\mathtt{write}"], "semantics": ["[\\![#1]\\!]", 1], "phifn": ["\\varphi"], "Rone": ["R1"], "words": ["\\mbox{words}"]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Simple programs" href="move_copy_write.html" />
    <link rel="prev" title="Invitation to Computability" href="../index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Invitation to Computabitlity</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Invitation to Computability
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Text Register Machine Programs
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Getting started with 1#
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="move_copy_write.html">
   Simple programs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="haltDef.html">
   When does a program halt?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tidy.html">
   Tidy programs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="functions.html">
   Functions defined by programs
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  More Programs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../sanity.html">
   Tools to help write programs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../arithmetic.html">
   Programs for Arithmetic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../primitive_recursion.html">
   Primitive Recursion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../universal.html">
   Universal Programs
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The Enumeration Theorem
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../coding.html">
   Coding words by numbers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../t_predicate.html">
   The T predicate
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Undecidability
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../haltUnd.html">
   Undecidability of the Halting Problem
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Self-Writing Programs and the Recursion Theorem
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../self_writing.html">
   Self-Replicating Programs
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/introOneSharp/getting_started.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/lmoss/onesharp"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/lmoss/onesharp/issues/new?title=Issue%20on%20page%20%2FintroOneSharp/getting_started.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/lmoss/onesharp/main?urlpath=tree/docs/introOneSharp/getting_started.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Getting started with 1#
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-mathtt-1-instruction-set">
   The
   <span class="math notranslate nohighlight">
    \(\mathtt{1\#}\)
   </span>
   instruction set
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-programs-in-notebook-cells">
   Running programs in notebook cells
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-full-set-of-instructions-of-1">
   The full set of instructions of 1#
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#useful-command-line-tools">
     Useful command-line tools
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#useful-operations-inside-a-jupyter-notebook">
     Useful operations inside a Jupyter notebook
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Getting started with 1#</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Getting started with 1#
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-mathtt-1-instruction-set">
   The
   <span class="math notranslate nohighlight">
    \(\mathtt{1\#}\)
   </span>
   instruction set
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-programs-in-notebook-cells">
   Running programs in notebook cells
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-full-set-of-instructions-of-1">
   The full set of instructions of 1#
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#useful-command-line-tools">
     Useful command-line tools
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#useful-operations-inside-a-jupyter-notebook">
     Useful operations inside a Jupyter notebook
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <p><a href="https://colab.research.google.com/github/lmoss/onesharp/blob/main/introOneSharp/getting_started.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<div class="section" id="getting-started-with-1">
<h1>Getting started with 1#<a class="headerlink" href="#getting-started-with-1" title="Permalink to this headline">¶</a></h1>
<p>To start, either download this notebook and run it locally, or else click on ‘Open in Colab’ above.  Then click on the triangle below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>#@title
import pandas as pd
from IPython.display import display
import numpy as np

def program_checker(str):
    m = len(str)
    x1 = str[m - 1] == &#39;#&#39;
    x2 = all((str[i] == &#39;1&#39; or str[i] == &#39;#&#39;) for i in range(m))
    x3 = (str.find(&#39;######&#39;) == -1)
    if (x1 and x2 and x3):
        flag = True
    else:
        flag = False
        print(&#39;The input &#39; + str + &#39; is not a valid 1# program.&#39;)
        print(&#39;It is not the concatenation of a sequence of instructions in the language.&#39;)
        print(&#39;So what you are asking for is undefined.&#39;)
    return (flag)

def one_or_sharp_check(letter):
    if (letter==&quot;1&quot; or letter==&quot;#&quot;):
        return(True)
    else:
        return(False)

def word_checker(strg):
    answer = all([one_or_sharp_check(x)==True for x in strg])
    return(answer)

def input_checker(input_seq):
    seq = [word_checker(x) for x in input_seq]
    flag = all([word_checker(x) for x in input_seq])
    if not flag:
        print(&#39;The input sequence contains words with characters other than 1 and #.&#39;)
        print(&#39;So what you are asking for is undefined.&#39;)
    return(flag)
                                                                                
class Augmented:
    def __init__(self, string, remainders):
        self.string = string
        self.remainders = remainders

class Snapshot:
    def __init__(self, instr_number, regs, proceed,verbose,program_length, step_number):
        self.instr_number = instr_number
        self.regs = regs
        self.proceed = proceed
        self.verbose = verbose
        self.program_length = program_length
        self.step_number = step_number
        
def preparse(xstr):
    b = xstr.string.find(&#39;#1&#39;)
    xstr.remainders = xstr.remainders + [xstr.string[:(b + 1)]]
    xstr.string = xstr.string[(b + 1):]
    return (xstr)



def parse(y):
    tempx = Augmented(y, [])
    while tempx.string.find(&#39;#1&#39;) &gt;= 0:
        tempx = preparse(tempx)
    return (tempx.remainders + [tempx.string])

def unparse(p):
    return (&#39;&#39;.join(p))

def instruction_type(instruction):
    if instruction[-2:] == &#39;1#&#39;:
        return (&#39;add1&#39;)
    if instruction[-3:] == &#39;1##&#39;:
        return (&#39;add#&#39;)
    if instruction[-4:] == &#39;1###&#39;:
        return (&#39;forward&#39;)
    if instruction[-5:] == &#39;1####&#39;:
        return (&#39;backward&#39;)
    if instruction[-6:] == &#39;1#####&#39;:
        return (&#39;cases&#39;)

def tail(list):
    return (list[1:])

def one_step(p, snapshot): # p is parsed
    i = snapshot.instr_number
    r = snapshot.regs
    instruction = p[-1 + i]
    if snapshot.verbose:
        print(&#39;Step &#39; + str(snapshot.step_number) + &#39;:&#39;)
        print(&#39;Execute instruction &#39; + str(i) + &#39;:&#39; + &quot; &quot; +
              instruction_gloss(instruction,i-1) 
              + &#39;.&#39;)
        if instruction_type(instruction)==&#39;cases&#39;:
            billy= len(instruction) - 5
            if snapshot.regs[billy-1] == &quot;&quot;:
                print(&#39;The register is empty, so we go ahead 1 instruction.&#39;)
            elif snapshot.regs[billy-1][0] == &quot;1&quot;:
                print(&#39;The first symbol in that register is 1,&#39; +
                      &#39; so we delete that symbol and go forward 2 instructions.&#39;)
            elif snapshot.regs[billy-1][0] == &quot;#&quot;:
                print(&#39;The first symbol in that register is #,&#39; +
                      &#39; so we delete that symbol and go forward 3 instructions.&#39;)     
    t = instruction_type(instruction)
    if t == &#39;add1&#39;:
        snapshot.instr_number = 1 + snapshot.instr_number
        l = len(instruction)
        reg = len(instruction[:(l - 1)])
        snapshot.regs[reg - 1] = snapshot.regs[reg - 1] + &#39;1&#39;
    if t == &#39;add#&#39;:
        snapshot.instr_number = 1 + snapshot.instr_number
        l = len(instruction)
        reg = len(instruction[:(l - 2)])
        snapshot.regs[reg - 1] = snapshot.regs[reg - 1] + &#39;#&#39;
    if t == &#39;forward&#39;:
        l = len(instruction)
        offset = len(instruction[:(l - 3)])
        snapshot.instr_number = offset + snapshot.instr_number
    if t == &#39;backward&#39;:
        l = len(instruction)
        offset = len(instruction[:(l - 4)])
        snapshot.instr_number = (-offset) + snapshot.instr_number
    if t == &#39;cases&#39;:
        l = len(instruction)
        reg = len(instruction[:(l - 5)])
        if snapshot.regs[reg - 1] == &#39;&#39;:
            snapshot.instr_number = 1 + snapshot.instr_number
        elif snapshot.regs[reg - 1][0] == &#39;1&#39;:
            snapshot.instr_number = 2 + snapshot.instr_number
            snapshot.regs[reg - 1] = tail(snapshot.regs[reg - 1])
        elif snapshot.regs[reg - 1][0] == &#39;#&#39;:
            snapshot.instr_number = 3 + snapshot.instr_number
            snapshot.regs[reg - 1] = tail(snapshot.regs[reg - 1])
    snapshot.proceed = 0&lt; snapshot.instr_number &lt;= len(p)
    if snapshot.verbose == True:
        print_snapshot(snapshot)
    return (snapshot)


def number_help(instr):
    if instruction_type(instr) == &#39;add1&#39;:
        return (len(instr) - 1)
    if instruction_type(instr) == &#39;add#&#39;:
        return (len(instr) - 2)
    if instruction_type(instr) == &#39;cases&#39;:
        return (len(instr)-5)
    else:
        return (0)


def max_register(p):
    return (max([number_help(instr) for instr in parse(p)]))


def pad(p, register_inputs):
    n = len(register_inputs)
    m = max_register(p)
    extras = [&#39;&#39; for x in range(m - n)]
    bigger = register_inputs + extras
    return (bigger)

def print_snapshot(snap):
    regdf = pd.DataFrame([[snap.regs[n]] for n in range(len(snap.regs))],columns=[&quot;contents&quot;])
    regdf.index = np.arange(1, len(regdf) + 1)
    def make_pretty(styler):
        styler.set_properties(**{&#39;background-color&#39;: &#39;#FFFFCC&#39;,
                                 &#39;color&#39;: &#39;black&#39;})
        styler.set_properties(**{&#39;text-align&#39;: &#39;left&#39;})
        #styler.set_caption(&quot;at the start&quot;)
        #styler.hide(axis=&#39;index&#39;)
        return styler
    display(regdf.style.pipe(make_pretty))  

def step_by_step(word_prog, register_inputs):
    word_prog = word_prog.replace(&quot; &quot;, &quot;&quot;)
    register_inputs = [word.replace(&quot; &quot;, &quot;&quot;) for word in register_inputs]
    if program_checker(word_prog) and input_checker(register_inputs):
        print(&#39;First, here is the program:&#39;)
        parse_explain(word_prog)
        print()
        regs = pad(word_prog, register_inputs)
        prog = parse(word_prog)
        N = len(prog)
        snap = Snapshot(1, regs,True,True,N,1)
        print(&#39;The computation starts with the register contents shown below.&#39;)
        print(&#39;The registers include those those which you entered as part of the input&#39;)
        print(&#39;and also others mentioned in the input program.&#39;)
        print_snapshot(snap)
        print()
        while 0 &lt; snap.instr_number &lt; N + 1:
            snap = one_step(prog, snap)
            snap.step_number = (snap.step_number) + 1
        if snap.instr_number &lt;= 0:
            print(
                &#39;The computation has not halted properly &#39; +
                &#39;because the control went above instruction 1 of the program.&#39;
                 )
        elif (snap.instr_number == (N + 1)) and all(
                snap.regs[i] == &quot;&quot;
                for i in range(1, len(snap.regs))):
            print(
                &#39;The computation then halts properly because&#39; +
                &#39; the control is just below the last line of the program,&#39;)
            print(&#39;and because all registers other than R1 are empty.&#39;)
            if snap.regs[0] == &quot;&quot;:
                print(&#39;The output is the empty word.&#39;)
            else:
                print(&#39;The output is &#39; + snap.regs[0] + &#39;.&#39;)
        else:
            print(&#39;This computation does not halt.&#39;)
            if snap.instr_number != N + 1:
                print(&#39;This is because the program has &#39; + str(len(prog)) +
                  &#39; instructions, and control at the end is not one line &#39; + 
                   &#39;below the bottom of the program.&#39;)
                print()
            else: 
                not_blank = [
                    i + 1 for i in range(1, len(snap.regs))
                    if snap.regs[i] != &quot;&quot;
                ]
                print(&#39;Here is the list of registers whose contents &#39; +
                      &#39;are not empty at this point, other than R1:&#39; +
                      str(not_blank) + &#39;.&#39;)
                print(&#39;The register contents at the end are shown above.&#39;)


def onesharp(word_prog, register_inputs):
    word_prog = word_prog.replace(&quot; &quot;, &quot;&quot;)
    register_inputs = [word.replace(&quot; &quot;, &quot;&quot;) for word in register_inputs]  
    if program_checker(word_prog) and input_checker(register_inputs):
        register_inputs = [word.replace(&quot; &quot;, &quot;&quot;) for word in register_inputs]
        regs = pad(word_prog, register_inputs)
        prog = parse(word_prog)
        N = len(prog)
        snap = Snapshot(1, regs,True,False, N, 1)
        while snap.proceed:
            snap = one_step(prog, snap)
            snap.step_number = (snap.step_number)+1
        if (snap.instr_number == (N + 1)) and all(
                snap.regs[i] == &quot;&quot; for i in range(1, len(snap.regs))):
            return ((snap.regs)[0])
        else:            
            print(&quot;This is undefined.&quot;)
            print(&quot;The register contents at the end are shown below.&quot;)
            print_snapshot(snap)
    else:
        return(&#39;undefined&#39;)


def instruction_gloss(instr,line):
    if instruction_type(instr) == &#39;add1&#39;:
        return (&#39;add 1 to R&#39; + str(len(instr) - 1))
    if instruction_type(instr) == &#39;add#&#39;:
        return (&#39;add # to R&#39; + str(len(instr) - 2))
    if instruction_type(instr) == &#39;forward&#39;:
        w = len(instr) - 3
        return (&#39;go forward &#39; + str(w) + &#39; to instruction &#39; + str(w+line+1))
    if instruction_type(instr) == &#39;backward&#39;:
        w = len(instr) - 4
        return (&#39;go backward &#39; + str(w) + &#39; to instruction &#39; + str(line - w+1))
    if instruction_type(instr) == &#39;cases&#39;:
        return (&#39;cases on R&#39; + str(len(instr) - 5))

def expanded(gorp):
    pgorp = parse(gorp)
    wwgorp = [[pgorp[x],instruction_gloss(pgorp[x],x)] for x in range(len(pgorp))]
    return(wwgorp)

def parse_explain(prog):
    df = pd.DataFrame(expanded(prog),
                      columns=[&quot;instruction&quot;, &#39;explanation&#39;])
    df.index = np.arange(1, len(df) + 1)
    def make_pretty(styler):
                styler.set_properties(**{&#39;background-color&#39;: &#39;#C9DFEC&#39;,
                                         &#39;color&#39;: &#39;black&#39;})        
                styler.set_properties(**{&#39;text-align&#39;: &#39;left&#39;})
                return styler
    display(df.style.pipe(make_pretty))
    #display(df)
    

length = &#39;1#####1111111###11####11#1#####111###111111####111####11#####111111###111###1##1111####1#111111####&#39;

write = &#39;1#####111111111###11111###11#11##11##111111####11#11##111111111####11#####111111###111###1##1111####1#111111####&#39;

diag = &#39;1#####11111111111###111111###11##111#111##111##1111111####11#111#111##1111####111#####111111###111###1##1111####1#11####11#####111111###111###1##1111####1#11####&#39;

self = &#39;1#1##1##1##1##1##1#1#1#1#1#1#1#1#1#1#1#1##1##1##1#1#1#1#1#1#1##1##1##1#1#1##1##1#1#1#1##1#1#1#1##1##1#1#1#1##1##1#1#1#1#1#1#1#1##1##1##1##1#1#1##1#1#1#1##1#1#1#1##1##1#1#1#1#1##1##1##1##1#1#1#1##1##1##1##1##1#1#1#1#1#1#1##1##1##1#1#1#1##1##1##1#1##1##1#1#1#1#1##1##1##1##1#1##1#1#1##1##1##1##1#1#1##1##1##1##1##1#1#1#1#1#1#1##1##1##1#1#1#1##1##1##1#1##1##1#1#1#1#1##1##1##1##1#1##1#1#1##1##1##1##1#####11111111111###111111###11##111#111##111##1111111####11#111#111##1111####111#####111111###111###1##1111####1#11####11#####111111###111###1##1111####1#11####&#39;

multiply = &#39;111##1111##11#####11111111###1111###11111##111111##11111####11111#111111#11111111####111111#####111111###111###11##1111####11#111111####111#####11111111###1111###111111##1111111##11111####111111#1111111#11111111####1111111#####111111###111###111##1111####111#111111####11111#####111111###111111111###111111#####11111111111###1111111111###111111####111111#####111111111111111###111111###11111###111111#####111###1111111111111####1###11111#####1  11###11####111####111111#####1111###11####111####11111#11111#####111###1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111###1#1#####11111111###1111###11111##111111##11111####11111#111111#11111111####111111#####111111###111###1##1111####1#111111####1111#####111111###111###111111##1111####111111#111111####11111#####111###111111###111111111###111111#####11111111111111111111111111111111111###11111111111111111111111111###111111111111111111111111111###111111#####11111111111111111111111###1111111111111111111111111111###111111111111111111111###111111#####111111111111111111111###111111111111111111###1111111111111111111###11111#####111###111111###111111111###111111#####11111111111###1111111111111111###111111111###111111#####1111111111111###1111111111###11111111111###111111#####111###11111111###1###1111111#111111111111111111111111111111111####1111111##11111111111111111111111111111111111####1111111#111111111111111111111####1111111##11111111111111111111111####1###1111111#####111111###111###11111##1111####11111#111111####11111#####111111###111###1111##1111####1111#111111####111#####1111111111111###1111111111###11111#111#####111111###111###11111##1111####11111#111111####1111###11111##1111111111111####11111#11111#####111111###111###111##1111####111#111111####1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111####1#####111###11####111####11#####111###11####111####111#####111###11####111####1111#####111111###111###1##1111####1#111111####&#39;

universal = &#39;1#####1###11###11####111111#1#####111###111111###1111111###11111#####1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111###1###1####111#111111111####111##1#####1111###11###11111###111#11111#####1111111111111111111111111111111111111111111111###111111111###111##1#####1111###11###11111###111#11111#####1111111111111111111111111111111111111###111111111###111##1#####1111###11###11111###111#11111#####1111111111111111111111111111111111111111111111###111111111###111##1#####1111###11###11111###111#11111#####111111111111111111111111111111111111111111111111111111###111111111###111##1#####1111###11###11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111###111#11111#####1111111111###1###111#####111111###111###1111##1111####1111#111111####11111111111111111111111111111111111111111111111111111111111111####111#####1###11###1111###11111#1111#111111####11111##1111##111#####1111111###1111###1111##11111##11111####1111#1111111####111111111111111111111111111111111111111111111111111111111111111111111111111###111#####1###11###11111###11111#1111#111111#1111111####1111##111#####111111###111###1111##1111####1111#111111####11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111####111#####1###11###1111###1111#11111#111111####11111#11111#1111##111#####111111###111###1111##1111####1111#111111####11111#####11111111###11###1###111111#####111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111###1###1###11111111####111111#####1111###111#11111#1111####111#####111###111111#111####1#####111111###111###111##1111####111#111111####1111#####111111###111###1##1111####1#111111####111#####111111###111###1##1111####1#111111####111111111111111111111111111111111111111111111111111111111####11#####111###11111###111111111111###11##11##111111####111#11#####1###111###111##11###111#11111111111111####111##11#####11111111111111111111111111111111111111111111111111111111111111111111###1###111##11111#####1###1111111111111111111111####11111#####1111111111111111111111111111###111111111111111111111111111###11111#####111###11###111111111111111111111111111111111111111111111###11#####111111111111111111###111111111###111#11#####1###1###111#111##111##111111111111111111111111111111111111111111111111111111111###111#11#####1###111###111##11###111#111111111111111111####111#111#1111111111111111111111111111111111111111111111###11#####111111111111111111###111111111###111#11#####1###1###111##111##111##11111111111111111111111111111111111###111#11#####1###111###111##11###111#111111111111111111####111#111##111111111111111111111111###11111#####1###1###11111#####1###1###11#####11111111111111111111111###111###111##1111111111111###11#####1###11111###1###11111#111111#111111###11111#11111#111111#111111#1###11#####111111###111###111##1111####111#111111####111#####111111###111###11##1111####11#111111####1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111####11#####1###1###11#####1###1###11#####11111111111111###11###11111111###11#####1###111###1#11111111####1##1111111111####11#####111###11####111####111111#####11###11####1111#####111###11####111####&#39;
clear_2 = &#39;11#####111###11####111####&#39;
clear_3 = &#39;111#####111###11####111####&#39;
clear_4 = &#39;1111#####111###11####111####&#39;
move_1_2= &#39;1#####111111###111###11##1111####11#111111####&#39;
move_1_3= &#39;1#####111111###111###111##1111####111#111111####&#39;
move_1_4= &#39;1#####111111###111###1111##1111####1111#111111####&#39;
move_2_1= &#39;11#####111111###111###1##1111####1#111111####&#39;
move_2_3= &#39;11#####111111###111###111##1111####111#111111####&#39;
move_2_4= &#39;11#####111111###111###1111##1111####1111#111111####&#39;
move_3_1= &#39;111#####111111###111###1##1111####1#111111####&#39;
move_3_2= &#39;111#####111111###111###11##1111####11#111111####&#39;
move_3_4= &#39;111#####111111###111###1111##1111####1111#111111####&#39;
move_4_1= &#39;1111#####111111###111###1##1111####1#111111####&#39;
move_4_2= &#39;1111#####111111###111###11##1111####11#111111####&#39;
move_4_3= &#39;1111#####111111###111###111##1111####111#111111####&#39;
copy_1_2_3 = &#39;1#####11111111###1111###11##111##11111####11#111#11111111####111#####111111###111###1##1111####1#111111####&#39;
copy_1_2_4 =&#39;1#####11111111###1111###11##1111##11111####11#1111#11111111####1111#####111111###111###1##1111####1#111111####&#39;
copy_1_3_4=&#39;1#####11111111###1111###111##1111##11111####111#1111#11111111####1111#####111111###111###1##1111####1#111111####&#39;
copy_2_3_4 = &#39;11#####11111111###1111###111##1111##11111####111#1111#11111111####1111#####111111###111###11##1111####11#111111####&#39;

</pre></div>
</div>
</div>
</div>
<p>Welcome to our first tutorial lesson on <span class="math notranslate nohighlight">\(\one\hash\)</span>. You will learn the basics of the language here and also see some small programs.</p>
<p>This lesson is written on a lower level than the lessons which come after it. The only abstract concept comes at the end, as does the only and mathematical notation. The rest of the lesson is a concrete introduction to <span class="math notranslate nohighlight">\(\one\hash\)</span>.</p>
<p>If you are familiar with any machine model in the theory of computations, such as Turing Machines, or classical register machines, you probably will want to skim through this lesson quickly.</p>
<p>But this introductory lesson is really intended for people with no background on these matters. If this is you, please work slowly, doing the exercises as you go.</p>
<p>To begin, here is an <em>interpreter</em> for <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span>.  Even before learning how the language works, we want to see how to run programs by entering them into the interpreter along with inputs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def end_strip(list): ## removes the tail of empty registers
  if list == []:
    return(list)
  elif list[-1] == &#39;&#39;:
    return(end_strip(list[:-1]))
  else:
    return(list)
def remove_multiple_blanks(my_str):
   return(my_str.replace(&quot; &quot;, &quot;&quot;))


program = &#39;11#####111111###111###1##1111####1#111111####&#39; #@param {type:&quot;string&quot;}
R1 = &#39;#1111&#39; #@param {type:&quot;string&quot;}
R2 = &#39;11#&#39; #@param {type:&quot;string&quot;}
#R3 = &#39;&#39; #@param {type:&quot;string&quot;}

## For more registers, add lines here like
## R4 = &#39;&#39; #@param {type:&quot;string&quot;}
## You also must modify the definition of &#39;a&#39; below accordingly.

# First, we delete the last batch of empty registers
# to simplify the output 
a = [R1,R2]
a = [remove_multiple_blanks(x) for x in a]

onesharp(program,a)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;#111111#&#39;
</pre></div>
</div>
</div>
</div>
<p>Please copy the following <em>program</em> of <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> into the program line of the interpreter above.</p>
<p><code class="docutils literal notranslate"><span class="pre">11#####111111###111###1##1111####1#111111####</span></code></p>
<p>Now enter some words in the first two <em>input registers</em>. These two registers appear in the interpreter as R1 and R2.  The registers hold <em>words</em>.  For us in this course, words are just sequences  composed of the symbols <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">#</span></code>, such as <code class="docutils literal notranslate"><span class="pre">11###11#1</span></code> and <code class="docutils literal notranslate"><span class="pre">#1###1###111#11</span></code>.</p>
<p>The empty word is a perfectly good word, so you could also enter it into R1 or R2 just by leaving the register blank or by entering one or more spaces.</p>
<p>Next, run your program by clicking the triangle in the upper-left above.  (Another way to run the program is to type shift-return on a keyboard.) The output is shown below the interpreter, above the current cell.</p>
<p>You should then clear the input and output registers, and then enter some new words in R1 and R2.  Again, click the triangle to run the program.
You might now enter some words in R3 to see if it makes a difference.</p>
<p>What you should find after doing this is that the output in R1 at the end is the input in R1 followed by the input in R2. And as a result of the same computation, R2 is emptied out. We usually will say <em>concatenated</em> instead of <em>followed by</em>.</p>
<hr class="docutils" />
<p>The overall point is that the program <code class="docutils literal notranslate"><span class="pre">11#####111111###111###1##1111####1#111111####</span></code> may be run on words which are input in the registers. This program does not change when we run it, but the contents of the registers do change. Our first order of business is to understand programs like the one we’ve just seen. It turns out that this program is composed of seven instructions. We’ll get to the instructions soon, but first we have an exercise for you to try.</p>
<div class="exercise admonition" id="introOneSharp/getting_started-exercise-0">

<p class="admonition-title"><span class="caption-number">Exercise 1 </span></p>
<div class="section" id="exercise-content">
<p>Here is another 1# program. It takes its input from the first two registers. Enter some words in R1 and R2 input boxes, and then run the program. Your job is to try to figure out what the program does.</p>
<p><code class="docutils literal notranslate"><span class="pre">1#####</span> <span class="pre">11111111###</span> <span class="pre">1111###</span> <span class="pre">111##</span> <span class="pre">1111##</span> <span class="pre">11111####</span> <span class="pre">111#</span> <span class="pre">1111#</span> <span class="pre">11111111####</span> <span class="pre">111#####</span> <span class="pre">111111###</span> <span class="pre">111###</span> <span class="pre">1##</span> <span class="pre">1111####</span> <span class="pre">1#</span> <span class="pre">111111####</span> <span class="pre">1111#####</span> <span class="pre">111111###</span> <span class="pre">111###</span> <span class="pre">1##</span> <span class="pre">1111####</span> <span class="pre">1#</span> <span class="pre">111111####</span> <span class="pre">11#####</span> <span class="pre">111111###</span> <span class="pre">111###</span> <span class="pre">1##</span> <span class="pre">1111####</span> <span class="pre">1#</span> <span class="pre">111111####</span></code></p>
</div>
</div>
<img src="https://github.com/lmoss/onesharp/blob/main/drum.jpg?raw=1" width="200" height="160"></div>
<div class="section" id="the-mathtt-1-instruction-set">
<h1>The <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> instruction set<a class="headerlink" href="#the-mathtt-1-instruction-set" title="Permalink to this headline">¶</a></h1>
<p>So far, we have seen two <em>programs</em> of <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span>. Programs are composed of <em>instructions</em>. In fact, programs are just sequences of instructions run together. There are only five kinds of <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> instructions.  Now is the time to introduce them.</p>
<p>We begin our journey with the first two types of instructions of the language.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1#</p></td>
<td><p>Add 1 to R1</p></td>
</tr>
<tr class="row-odd"><td><p>11#</p></td>
<td><p>Add 1 to R2</p></td>
</tr>
<tr class="row-even"><td><p>111#</p></td>
<td><p>Add 1 to R3</p></td>
</tr>
</tbody>
</table>
<p>These instructions add a <span class="math notranslate nohighlight">\(\mathtt{1}\)</span> to the end of the word (the right end, as in English words) in the specified register.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1##</p></td>
<td><p>Add # to R1</p></td>
</tr>
<tr class="row-odd"><td><p>11##</p></td>
<td><p>Add # to R2</p></td>
</tr>
<tr class="row-even"><td><p>111##</p></td>
<td><p>Add # to R3</p></td>
</tr>
</tbody>
</table>
<p>These add a <span class="math notranslate nohighlight">\(\mathtt{\#}\)</span> to the end (again, this means the right side) of the word in the specified register.  We can summarize the two kinds of instructions which we have seen, and also extend them:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1^n #</p></td>
<td><p>Add 1 to Rn</p></td>
</tr>
<tr class="row-odd"><td><p>1^n ##</p></td>
<td><p>Add # to Rn</p></td>
</tr>
</tbody>
</table>
<p>The programs of <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> are just sequences of instructions run together.  There is no punctuation between the instructions.  To move around in a program, we have two other kinds of instructions</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1^n ###</p></td>
<td><p>Go forward n instructions</p></td>
</tr>
<tr class="row-odd"><td><p>1^n ####</p></td>
<td><p>Go backward n instructions</p></td>
</tr>
</tbody>
</table>
<p>Here is the last kind of instruction:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1^n #####</p></td>
<td><p>Cases on register n</p></td>
</tr>
</tbody>
</table>
<p>Here is what it does:</p>
<p>If Rn is empty, we go to the very next instruction.</p>
<p>If the first symbol of Rn is <span class="math notranslate nohighlight">\(\mbox{\mathtt{1}}\)</span>, we delete that symbol and go to the second instruction after the case instruction.</p>
<p>If the first symbol of Rn is <span class="math notranslate nohighlight">\(\hash\)</span>, we delete that symbol and go to the third instruction after the case instruction.</p>
<p>The ‘cases’ instructions are the most complex to understand, and it will help to look an example in detail.   But first we have some exercises on the 1^n# and 1^n## instructions.</p>
<div class="exercise admonition" id="try-to-figure">

<p class="admonition-title"><span class="caption-number">Exercise 2 </span></p>
<div class="section" id="exercise-content">
<p>Again, start with <span class="math notranslate nohighlight">\(\mathtt{1}\)</span> in R1 and R2, <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> in R3, and the other registers empty.
What happens in each register if we run
<span class="math notranslate nohighlight">\(\mathtt{111\#\#}\)</span>?
Try to figure this out for yourself, and then check your work by actually running the program.</p>
</div>
</div>
<div class="exercise admonition" id="introOneSharp/getting_started-exercise-2">

<p class="admonition-title"><span class="caption-number">Exercise 3 </span></p>
<div class="section" id="exercise-content">
<p>As before, start with <span class="math notranslate nohighlight">\(\one\)</span> in R1 and R2, <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> in R3, and the other registers empty.
What happens in each register if we run the same program
<span class="math notranslate nohighlight">\(\mathtt{111\#\#}\)</span> from the previous exercise?</p>
</div>
</div>
<div class="exercise admonition" id="introOneSharp/getting_started-exercise-3">

<p class="admonition-title"><span class="caption-number">Exercise 4 </span></p>
<div class="section" id="exercise-content">
<p>Write a program which, when started with all registers empty, gives <span class="math notranslate nohighlight">\(\mathtt{1}\)</span> in R1 and R2, <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> in R3, and the other registers empty.</p>
</div>
</div>
<img src="https://github.com/lmoss/onesharp/blob/main/harp.jpg?raw=1" width="200" height="160"></div>
<div class="section" id="running-programs-in-notebook-cells">
<h1>Running programs in notebook cells<a class="headerlink" href="#running-programs-in-notebook-cells" title="Permalink to this headline">¶</a></h1>
<p>Because notebooks like this are composed of cells, we also want to run programs in a command-line fashion.</p>
<p>There are two programs that do this.  They are
<code class="docutils literal notranslate"><span class="pre">step_by_step</span></code> and <code class="docutils literal notranslate"><span class="pre">onesharp</span></code>.  These are illustrated in the next two cells.  Both of these programs are written in Python, not in <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span>.  They both require as inputs a <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> program followed by a sequence of register words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>onesharp(&#39;1#11#####1###1###&#39;,[&#39;1#1&#39;,&#39;#&#39;])
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;1#11&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>step_by_step(&#39;1#11#####1###1###&#39;,[&#39;1#1&#39;,&#39;#&#39;])
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>First, here is the program:
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_0ba65_row0_col0, #T_0ba65_row0_col1, #T_0ba65_row1_col0, #T_0ba65_row1_col1, #T_0ba65_row2_col0, #T_0ba65_row2_col1, #T_0ba65_row3_col0, #T_0ba65_row3_col1 {
  background-color: #C9DFEC;
  color: black;
  text-align: left;
}
</style>
<table id="T_0ba65_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >instruction</th>
      <th class="col_heading level0 col1" >explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_0ba65_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_0ba65_row0_col0" class="data row0 col0" >1#</td>
      <td id="T_0ba65_row0_col1" class="data row0 col1" >add 1 to R1</td>
    </tr>
    <tr>
      <th id="T_0ba65_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_0ba65_row1_col0" class="data row1 col0" >11#####</td>
      <td id="T_0ba65_row1_col1" class="data row1 col1" >cases on R2</td>
    </tr>
    <tr>
      <th id="T_0ba65_level0_row2" class="row_heading level0 row2" >3</th>
      <td id="T_0ba65_row2_col0" class="data row2 col0" >1###</td>
      <td id="T_0ba65_row2_col1" class="data row2 col1" >go forward 1 to instruction 4</td>
    </tr>
    <tr>
      <th id="T_0ba65_level0_row3" class="row_heading level0 row3" >4</th>
      <td id="T_0ba65_row3_col0" class="data row3 col0" >1###</td>
      <td id="T_0ba65_row3_col1" class="data row3 col1" >go forward 1 to instruction 5</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The computation starts with the register contents shown below.
The registers include those those which you entered as part of the input
and also others mentioned in the input program.
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_edf6c_row0_col0, #T_edf6c_row1_col0 {
  background-color: #FFFFCC;
  color: black;
  text-align: left;
}
</style>
<table id="T_edf6c_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_edf6c_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_edf6c_row0_col0" class="data row0 col0" >1#1</td>
    </tr>
    <tr>
      <th id="T_edf6c_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_edf6c_row1_col0" class="data row1 col0" >#</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Step 1:
Execute instruction 1: add 1 to R1.
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_cac66_row0_col0, #T_cac66_row1_col0 {
  background-color: #FFFFCC;
  color: black;
  text-align: left;
}
</style>
<table id="T_cac66_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_cac66_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_cac66_row0_col0" class="data row0 col0" >1#11</td>
    </tr>
    <tr>
      <th id="T_cac66_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_cac66_row1_col0" class="data row1 col0" >#</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Step 2:
Execute instruction 2: cases on R2.
The first symbol in that register is #, so we delete that symbol and go forward 3 instructions.
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_e907b_row0_col0, #T_e907b_row1_col0 {
  background-color: #FFFFCC;
  color: black;
  text-align: left;
}
</style>
<table id="T_e907b_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_e907b_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_e907b_row0_col0" class="data row0 col0" >1#11</td>
    </tr>
    <tr>
      <th id="T_e907b_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_e907b_row1_col0" class="data row1 col0" ></td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The computation then halts properly because the control is just below the last line of the program,
and because all registers other than R1 are empty.
The output is 1#11.
</pre></div>
</div>
</div>
</div>
<p>The last computation started with two inputs.  Try changing those inputs to see what happens.  As practice with the definition of <em>halt</em>, you might try yourself to predict what will happen before running it.  You can add the symbols <span class="math notranslate nohighlight">\(\mathtt{1}\)</span> or <span class="math notranslate nohighlight">\(\mathtt{\#}\)</span>, and you also can delete symbols.  But you should not delete the quote marks.  Also, you can change the program the same way.   The idea is that you should explore this function <em>step_by_step</em> by trying it out on simple inputs.</p>
<p>Here is an explanation of the form of the command <code class="docutils literal notranslate"><span class="pre">step_by_step</span></code> that we have been using.</p>
<p>The first argument could be a <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> program surrounded by single quotes or double-quotes.   If you use single quotes, you need to be sure to use the correct ones; on my screen they look straight, not slanted.   You could also use a concatenation of quoted expressions (see below).  But if you forget the quotes, you will get an error because the Python program that is running all of this will balk at <span class="math notranslate nohighlight">\(\mathtt{1\#}\)</span> expressions without quotes around them.</p>
<p>In addition, you can name expressions ahead of time using assignment statements like</p>
<p><code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">=</span> <span class="pre">'1#'</span></code></p>
<p>and then enter (for example)</p>
<p><code class="docutils literal notranslate"><span class="pre">step_by_step(p,['11'])</span></code>.</p>
<hr class="docutils" />
<p>The program <code class="docutils literal notranslate"><span class="pre">step_by_step</span></code> begins with a parse of your program, and so if you input a word that is not a sequence of <span class="math notranslate nohighlight">\(\one\hash\)</span> expressions, it will stop without further ado.</p>
<p>The second argument to <code class="docutils literal notranslate"><span class="pre">step_by_step</span></code> is a list of words.   A list in Python is enclosed by square brackets [ and ], not by parentheses.  The words that go in the list are used in R1, R2, … in that order.  It is understood that any register not represented by any input starts with the empty string.   You can also represent the empty string by ‘ ‘.  And the empty list  of registers is denoted by two square brackets with nothing inside,  [  ].</p>
<p>All in all, the examples below show different formats for the input to our function step_by_step.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>p= &#39;1#&#39;
q = &#39;#1&#39;
step_by_step(p,[q,q,p])
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>First, here is the program:
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_10ded_row0_col0, #T_10ded_row0_col1 {
  background-color: #C9DFEC;
  color: black;
  text-align: left;
}
</style>
<table id="T_10ded_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >instruction</th>
      <th class="col_heading level0 col1" >explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_10ded_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_10ded_row0_col0" class="data row0 col0" >1#</td>
      <td id="T_10ded_row0_col1" class="data row0 col1" >add 1 to R1</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The computation starts with the register contents shown below.
The registers include those those which you entered as part of the input
and also others mentioned in the input program.
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_14127_row0_col0, #T_14127_row1_col0, #T_14127_row2_col0 {
  background-color: #FFFFCC;
  color: black;
  text-align: left;
}
</style>
<table id="T_14127_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_14127_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_14127_row0_col0" class="data row0 col0" >#1</td>
    </tr>
    <tr>
      <th id="T_14127_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_14127_row1_col0" class="data row1 col0" >#1</td>
    </tr>
    <tr>
      <th id="T_14127_level0_row2" class="row_heading level0 row2" >3</th>
      <td id="T_14127_row2_col0" class="data row2 col0" >1#</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Step 1:
Execute instruction 1: add 1 to R1.
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_849d8_row0_col0, #T_849d8_row1_col0, #T_849d8_row2_col0 {
  background-color: #FFFFCC;
  color: black;
  text-align: left;
}
</style>
<table id="T_849d8_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_849d8_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_849d8_row0_col0" class="data row0 col0" >#11</td>
    </tr>
    <tr>
      <th id="T_849d8_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_849d8_row1_col0" class="data row1 col0" >#1</td>
    </tr>
    <tr>
      <th id="T_849d8_level0_row2" class="row_heading level0 row2" >3</th>
      <td id="T_849d8_row2_col0" class="data row2 col0" >1#</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This computation does not halt.
Here is the list of registers whose contents are not empty at this point, other than R1:[2, 3].
The register contents at the end are shown above.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>step_by_step(p+q+p,[])
# This is a comment.
# the symbol + is used for concatenation of strings in Python.
# Since p and q are strings, we can concatenate them
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>First, here is the program:
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_fb33d_row0_col0, #T_fb33d_row0_col1, #T_fb33d_row1_col0, #T_fb33d_row1_col1 {
  background-color: #C9DFEC;
  color: black;
  text-align: left;
}
</style>
<table id="T_fb33d_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >instruction</th>
      <th class="col_heading level0 col1" >explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_fb33d_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_fb33d_row0_col0" class="data row0 col0" >1##</td>
      <td id="T_fb33d_row0_col1" class="data row0 col1" >add # to R1</td>
    </tr>
    <tr>
      <th id="T_fb33d_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_fb33d_row1_col0" class="data row1 col0" >11#</td>
      <td id="T_fb33d_row1_col1" class="data row1 col1" >add 1 to R2</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The computation starts with the register contents shown below.
The registers include those those which you entered as part of the input
and also others mentioned in the input program.
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_19155_row0_col0, #T_19155_row1_col0 {
  background-color: #FFFFCC;
  color: black;
  text-align: left;
}
</style>
<table id="T_19155_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_19155_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_19155_row0_col0" class="data row0 col0" ></td>
    </tr>
    <tr>
      <th id="T_19155_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_19155_row1_col0" class="data row1 col0" ></td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Step 1:
Execute instruction 1: add # to R1.
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_522fa_row0_col0, #T_522fa_row1_col0 {
  background-color: #FFFFCC;
  color: black;
  text-align: left;
}
</style>
<table id="T_522fa_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_522fa_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_522fa_row0_col0" class="data row0 col0" >#</td>
    </tr>
    <tr>
      <th id="T_522fa_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_522fa_row1_col0" class="data row1 col0" ></td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Step 2:
Execute instruction 2: add 1 to R2.
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_64c17_row0_col0, #T_64c17_row1_col0 {
  background-color: #FFFFCC;
  color: black;
  text-align: left;
}
</style>
<table id="T_64c17_" class="dataframe">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th class="col_heading level0 col0" >contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_64c17_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_64c17_row0_col0" class="data row0 col0" >#</td>
    </tr>
    <tr>
      <th id="T_64c17_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_64c17_row1_col0" class="data row1 col0" >1</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>This computation does not halt.
Here is the list of registers whose contents are not empty at this point, other than R1:[2].
The register contents at the end are shown above.
</pre></div>
</div>
</div>
</div>
<p>So far in this notebook, we have only seen the function <code class="docutils literal notranslate"><span class="pre">step_by_step</span></code>.   If we want to run things “in one fell swoop”, we could use the function <code class="docutils literal notranslate"><span class="pre">onesharp(p,[r1,r2,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.,</span> <span class="pre">rn])</span></code>.   It also takes two arguments, the first a program and the second a (possibly-empty) sequence of input words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>clear_1 = &#39;1##### 111### 11#### 111####&#39;
onesharp(clear_1,[&#39;1111###1111##########&#39;])
# You can also run the line above slowly by running
# step_by_step(clear_1,[&#39;1111###1111##########&#39;])
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;&#39;
</pre></div>
</div>
</div>
</div>
<img src="https://github.com/lmoss/onesharp/blob/main/pianotrumpet.jpg?raw=1" width="200" height="160"></div>
<div class="tex2jax_ignore mathjax_ignore section" id="the-full-set-of-instructions-of-1">
<h1>The full set of instructions of 1#<a class="headerlink" href="#the-full-set-of-instructions-of-1" title="Permalink to this headline">¶</a></h1>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1^n #</p></td>
<td><p>Add 1 to Rn</p></td>
</tr>
<tr class="row-odd"><td><p>1^n ##</p></td>
<td><p>Add # to Rn</p></td>
</tr>
<tr class="row-even"><td><p>1^n ###</p></td>
<td><p>Go forward n instructions</p></td>
</tr>
<tr class="row-odd"><td><p>1^n ####</p></td>
<td><p>Go backward n instructions</p></td>
</tr>
<tr class="row-even"><td><p>1^n #####</p></td>
<td><p>Cases on Rn</p></td>
</tr>
</tbody>
</table>
<p>All numbers in this chart are written in unary.
Registers are processed as queues: symbols enter on the right and exit on the left.</p>
<p>The first two types of instructions add symbols to the right ends of the registers.</p>
<p>Here is a review of how the case instruction <code class="docutils literal notranslate"><span class="pre">1^n</span> <span class="pre">#####</span></code> works.</p>
<p>If Rn is empty, we go to the very next instruction.</p>
<p>If the first symbol of Rn is <span class="math notranslate nohighlight">\(\mathtt{1}\)</span>, we delete that symbol and go to the second instruction after the case instruction.</p>
<p>If the first symbol of Rn is <span class="math notranslate nohighlight">\(\mathtt{\#}\)</span>, we delete that symbol and go to the third instruction after the case instruction.</p>
<div class="section" id="useful-command-line-tools">
<h2>Useful command-line tools<a class="headerlink" href="#useful-command-line-tools" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Instruction</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">onesharp(p,[r1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.,rn])</span></code></p></td>
<td><p>runs the program <code class="docutils literal notranslate"><span class="pre">p</span></code> on the list of words  <code class="docutils literal notranslate"><span class="pre">[r1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.,rn]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">step_by_step(p,[r1,</span> <span class="pre">.</span> <span class="pre">.</span> <span class="pre">.,rn])</span></code></p></td>
<td><p>parses p and shows all steps in the run</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">parse(p)</span></code></p></td>
<td><p>expresses <code class="docutils literal notranslate"><span class="pre">p</span></code> as a list of instructions</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">parse_explain(p)</span></code></p></td>
<td><p>gives a table of the parse with glosses</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unparse(p)</span></code></p></td>
<td><p>inverse of <code class="docutils literal notranslate"><span class="pre">parse(p)</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="useful-operations-inside-a-jupyter-notebook">
<h2>Useful operations inside a Jupyter notebook<a class="headerlink" href="#useful-operations-inside-a-jupyter-notebook" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Show the Table of Contents, and also hide it.</p></li>
<li><p>Stop a program that is either in an infinite loop or otherwise is going too long.</p></li>
<li><p>Insert code cells above or below the current cell.</p></li>
<li><p>Insert text cells above or below the current cell.</p></li>
<li><p>Add a comment to a cell using # as the first character in a line.</p></li>
<li><p>Moving a cell up or down in the notebook.</p></li>
<li><p>Delete a cell.</p></li>
<li><p>Open a new notebook.</p></li>
</ol>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./introOneSharp"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Invitation to Computability</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="move_copy_write.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Simple programs</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Lawrence S. Moss<br/>
    
        &copy; Copyright 2023.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>